 package com.sathya.springmvc.product.service;



import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.sathya.springmvc.product.entity.ProductEntity;
import com.sathya.springmvc.product.model.ProductModel;
import com.sathya.springmvc.product.repository.ProductRepository;

@Service
public class ProductService {
	@Autowired
	
	ProductRepository productRepository;
	public void saveProductDetails(ProductModel productModel) {
		double stockvalue=productModel.getPrice()*productModel.getQuantity();
		double discountprice=productModel.getPrice()*productModel.getDiscountrate()/100;
		double offerprice=productModel.getPrice()-discountprice;
        double taxprice=productModel.getPrice();
        double finalprice=offerprice + taxprice;
       
        ProductEntity productEntity=new ProductEntity();
        productEntity.setName(productModel.getName());
        productEntity.setBrand(productModel.getBrand());
        productEntity.setMadein(productModel.getMadein());
        productEntity.setPrice(productModel.getPrice());
        productEntity.setQuantity(productModel.getQuantity());
        productEntity.setDiscountrate(productModel.getDiscountrate());
        productEntity.setDiscountprice(discountprice);
        productEntity.setStockvalue(stockvalue);
        productEntity.setOfferprice(offerprice);
        productEntity.setTaxprice(taxprice);
        productEntity.setFinalprice(finalprice);
        
        productRepository.save(productEntity);
	}
	public List<ProductEntity>getAllProducts(){
		List<ProductEntity>products=productRepository.findAll();
		return products;
		
	}
		
	}
        
        
     
        
        
        
        
       
        
